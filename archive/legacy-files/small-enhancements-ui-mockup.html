<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResearchHub - Small Enhancements UI Mockup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .wizard-step { transition: all 0.3s ease; }
        .wizard-step.active { transform: scale(1.05); }
        .enhancement-highlight { 
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);
            border-left: 3px solid #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header with Enhancement Highlights -->
    <div class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button class="text-gray-400 hover:text-gray-600 flex items-center text-sm">
                        ‚Üê Back to Studies
                    </button>
                    <div class="h-6 w-px bg-gray-300"></div>
                    <h1 class="text-xl font-semibold text-gray-900">Create New Study</h1>
                    
                    <!-- Progress indicator -->
                    <div class="hidden md:flex items-center space-x-2 text-sm text-gray-500">
                        <div class="flex items-center space-x-1">
                            <div class="w-32 h-1.5 bg-gray-200 rounded-full overflow-hidden">
                                <div class="h-full bg-blue-600 transition-all duration-300 ease-out" style="width: 67%"></div>
                            </div>
                            <span class="font-medium">67%</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-3">
                    <!-- Existing Auto-save status -->
                    <div class="flex items-center space-x-2 text-sm">
                        <div class="flex items-center space-x-1 text-green-600">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            <span>Saved</span>
                        </div>
                    </div>
                    
                    <!-- üÜï ENHANCEMENT: Collaborator Presence -->
                    <div class="enhancement-highlight px-3 py-1.5 rounded-lg">
                        <div class="flex items-center space-x-2 text-sm text-gray-600">
                            <div class="flex -space-x-2">
                                <img class="w-6 h-6 rounded-full border-2 border-white" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=face&crop=face" alt="John">
                                <img class="w-6 h-6 rounded-full border-2 border-white" src="https://images.unsplash.com/photo-1494790108755-2616b9ac156b?w=40&h=40&fit=face&crop=face" alt="Sarah">
                                <div class="w-6 h-6 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-xs">+2</div>
                            </div>
                            <span>4 online</span>
                            <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                        </div>
                    </div>
                    
                    <!-- üÜï ENHANCEMENT: Comments Toggle -->
                    <div class="enhancement-highlight p-2 rounded-lg">
                        <button onclick="toggleComments()" class="text-gray-400 hover:text-gray-600" title="Toggle Comments">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    
                    <button class="text-gray-400 hover:text-gray-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="flex min-h-screen">
        <!-- Sidebar with Enhanced Step Navigation -->
        <div class="w-80 bg-white border-r border-gray-200 flex flex-col">
            <div class="p-6">
                <!-- Progress Steps - EXISTING DESIGN -->
                <div class="space-y-1">
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-green-100 border-2 border-green-600 flex items-center justify-center">
                                <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <span class="font-medium text-green-600">Study Type</span>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-green-600"></div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-green-100 border-2 border-green-600 flex items-center justify-center">
                                <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <span class="font-medium text-green-600">Template</span>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-green-600"></div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-green-100 border-2 border-green-600 flex items-center justify-center">
                                <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <span class="font-medium text-green-600">Study Details</span>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-green-600"></div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-blue-100 border-2 border-blue-600 flex items-center justify-center">
                                <span class="text-sm font-medium text-blue-600">4</span>
                            </div>
                            <div>
                                <span class="font-medium text-blue-600">Build Study</span>
                                <div class="text-xs text-green-500 mt-0.5">Ready to proceed</div>
                            </div>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-gray-200"></div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-gray-100 border-2 border-gray-300 flex items-center justify-center">
                                <span class="text-sm font-medium text-gray-400">5</span>
                            </div>
                            <span class="font-medium text-gray-400">Review</span>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-gray-200"></div>
                    </div>
                    
                    <div class="flex items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-gray-100 border-2 border-gray-300 flex items-center justify-center">
                                <span class="text-sm font-medium text-gray-400">6</span>
                            </div>
                            <span class="font-medium text-gray-400">Launch</span>
                        </div>
                        <div class="w-12 h-0.5 mx-4 bg-gray-200"></div>
                    </div>
                    
                    <!-- üÜï ENHANCEMENT: Optional Analytics Step -->
                    <div class="flex items-center enhancement-highlight p-2 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 rounded-full bg-purple-100 border-2 border-purple-300 flex items-center justify-center">
                                <span class="text-sm font-medium text-purple-600">7</span>
                            </div>
                            <div>
                                <span class="font-medium text-purple-600">Analytics</span>
                                <div class="text-xs text-purple-500 mt-0.5">Optional</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Keyboard shortcuts hint - EXISTING -->
                <div class="mt-6 text-xs text-gray-500 text-center">
                    <span class="hidden md:inline">
                        Keyboard shortcuts: <kbd class="px-1 py-0.5 bg-gray-100 rounded text-xs">Ctrl+Enter</kbd> to proceed, 
                        <kbd class="px-1 py-0.5 bg-gray-100 rounded text-xs mx-1">Esc</kbd> to go back, 
                        <kbd class="px-1 py-0.5 bg-gray-100 rounded text-xs">Ctrl+S</kbd> to save
                    </span>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col">
            <!-- Current Step: Build Study (EXISTING DESIGN) -->
            <div class="flex-1 px-6 py-8">
                <div class="max-w-4xl mx-auto">
                    <div class="space-y-6">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 mb-2">Build Your Study</h2>
                            <p class="text-gray-600">
                                Configure blocks and set up your study flow. Drag and drop to reorder blocks.
                            </p>
                        </div>

                        <!-- Block Configuration - EXISTING DESIGN -->
                        <div class="space-y-4">
                            <!-- Block 1: Welcome Screen -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                            <span class="text-blue-600 font-medium">1</span>
                                        </div>
                                        <div>
                                            <h3 class="font-medium text-gray-900">Welcome Screen</h3>
                                            <p class="text-sm text-gray-500">Introduce participants to your study</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                                            </svg>
                                        </button>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd" />
                                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v3a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Block 2: 5-Second Test with Enhanced Analytics Option -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 enhancement-highlight">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                            <span class="text-green-600 font-medium">2</span>
                                        </div>
                                        <div>
                                            <h3 class="font-medium text-gray-900">5-Second Test</h3>
                                            <p class="text-sm text-gray-500">Test first impressions of your design</p>
                                            <!-- üÜï ENHANCEMENT: Analytics Badge -->
                                            <div class="flex items-center space-x-2 mt-1">
                                                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800">
                                                    üìä Heat Maps Enabled
                                                </span>
                                                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800">
                                                    üé• Screen Recording
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                                            </svg>
                                        </button>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd" />
                                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v3a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Block 3: Open Question -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                            <span class="text-yellow-600 font-medium">3</span>
                                        </div>
                                        <div>
                                            <h3 class="font-medium text-gray-900">Open Question</h3>
                                            <p class="text-sm text-gray-500">Collect detailed feedback from participants</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                                            </svg>
                                        </button>
                                        <button class="text-gray-400 hover:text-gray-600">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd" />
                                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v3a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Add Block Button - EXISTING -->
                            <button class="w-full border-2 border-dashed border-gray-300 rounded-lg p-6 text-gray-500 hover:border-gray-400 hover:text-gray-600 transition-colors">
                                <div class="flex items-center justify-center space-x-2">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                                    </svg>
                                    <span>Add Block</span>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation - EXISTING DESIGN -->
            <div class="border-t border-gray-200 px-6 py-4 bg-white">
                <div class="flex items-center justify-between">
                    <button class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50">
                        ‚Üê Previous
                    </button>
                    
                    <div class="flex items-center space-x-4">
                        <span class="text-sm text-gray-500">Step 4 of 6</span>
                        <button class="px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700">
                            Next: Review ‚Üí
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- üÜï ENHANCEMENT: Live Comments Sidebar (Hidden by default) -->
        <div id="commentsSidebar" class="hidden w-80 bg-white border-l border-gray-200 shadow-lg">
            <div class="p-4 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h3 class="font-medium text-gray-900">Comments</h3>
                    <button onclick="toggleComments()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto p-4">
                <!-- Sample Comments -->
                <div class="space-y-4">
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <div class="flex items-start space-x-2">
                            <img class="w-6 h-6 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=face&crop=face" alt="John">
                            <div class="flex-1">
                                <div class="text-sm font-medium text-gray-900">John Smith</div>
                                <div class="text-sm text-gray-600">Should we add a rating scale after the 5-second test?</div>
                                <div class="text-xs text-gray-500 mt-1">2 minutes ago</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-3 rounded-lg">
                        <div class="flex items-start space-x-2">
                            <img class="w-6 h-6 rounded-full" src="https://images.unsplash.com/photo-1494790108755-2616b9ac156b?w=40&h=40&fit=face&crop=face" alt="Sarah">
                            <div class="flex-1">
                                <div class="text-sm font-medium text-gray-900">Sarah Johnson</div>
                                <div class="text-sm text-gray-600">Great idea! Heat maps will give us valuable insights.</div>
                                <div class="text-xs text-gray-500 mt-1">5 minutes ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="p-4 border-t border-gray-200">
                <textarea class="w-full px-3 py-2 border border-gray-300 rounded-md resize-none" rows="3" placeholder="Add a comment..."></textarea>
                <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded-md text-sm w-full">
                    Add Comment
                </button>
            </div>
        </div>
    </div>

    <!-- üÜï ENHANCEMENT: Analytics Configuration Modal Preview -->
    <div id="analyticsModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="mx-auto flex items-center w-12 h-12 rounded-full bg-purple-100">
                    <svg class="mx-auto w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                    </svg>
                </div>
                <h3 class="text-lg font-medium text-gray-900 text-center mt-4">Analytics Preview</h3>
                <div class="mt-4 space-y-4">
                    <div class="text-sm text-gray-600">This shows what the optional Analytics step would look like:</div>
                    
                    <!-- Analytics Options Preview -->
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                            <input type="checkbox" class="h-4 w-4 text-purple-600" checked>
                            <div>
                                <div class="font-medium text-gray-900">Screen Recording</div>
                                <div class="text-xs text-gray-500">Record participant screens</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                            <input type="checkbox" class="h-4 w-4 text-purple-600" checked>
                            <div>
                                <div class="font-medium text-gray-900">Heat Map Tracking</div>
                                <div class="text-xs text-gray-500">Track click patterns</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                            <input type="checkbox" class="h-4 w-4 text-purple-600">
                            <div>
                                <div class="font-medium text-gray-900">Real-time Monitoring</div>
                                <div class="text-xs text-gray-500">Watch sessions live</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-center mt-6">
                    <button onclick="toggleAnalyticsModal()" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-md text-sm">
                        Close Preview
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleComments() {
            const sidebar = document.getElementById('commentsSidebar');
            sidebar.classList.toggle('hidden');
        }
        
        function toggleAnalyticsModal() {
            const modal = document.getElementById('analyticsModal');
            modal.classList.toggle('hidden');
        }
        
        // Show analytics modal automatically after 2 seconds
        setTimeout(() => {
            document.getElementById('analyticsModal').classList.remove('hidden');
        }, 2000);
    </script>
</body>
</html>
